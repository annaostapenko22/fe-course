{"version":3,"sources":["webpack:///./templates/img.hbs","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","previewURL","call","webformatURL","likes","views","comments","downloads","stack1","program","noop","refs","imgContainer","document","querySelector","searchField","loadBtn","upBtn","photoCard","photoCardItem","lightBox","lightBoxBtn","shows","loader","stats","getImages","name","page","axios","get","searchQuery","drawImages","then","hits","forEach","elem","insertAdjacentHTML","imgTemplate","classList","remove","removeShowPreview","add","addEventListener","window","scrollTo","top","left","behavior","evt","preventDefault","currentTarget","elements","query","value","innerHTML","target","nodeName","style","display","getImg","event","dataset","source","getComments","getLikes","getViews","getDownloads","setAttribute","setTimeout","textContent"],"mappings":"gFAAA,IAAIA,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,IAAIC,EAAQC,EAAiB,MAAVL,EAAiBA,EAAUD,EAAUO,aAAe,GAAKC,EAAOR,EAAUS,MAAMC,cAAeC,EAAO,WAAYC,EAAOZ,EAAUa,iBAExJ,MAAO,4CACHD,SAASP,EAA2F,OAAjFA,EAASH,EAAQY,aAAyB,MAAVb,EAAiBA,EAAOa,WAAab,IAAmBI,EAASG,KAA2BG,EAASN,EAAOU,KAAKT,EAAO,CAAC,KAAO,aAAa,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAC9R,gBACAO,SAASP,EAA+F,OAArFA,EAASH,EAAQc,eAA2B,MAAVf,EAAiBA,EAAOe,aAAef,IAAmBI,EAASG,KAA2BG,EAASN,EAAOU,KAAKT,EAAO,CAAC,KAAO,eAAe,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GACpS,gBACAO,SAASP,EAAiF,OAAvEA,EAASH,EAAQe,QAAoB,MAAVhB,EAAiBA,EAAOgB,MAAQhB,IAAmBI,EAASG,KAA2BG,EAASN,EAAOU,KAAKT,EAAO,CAAC,KAAO,QAAQ,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAC/Q,iBACAO,SAASP,EAAiF,OAAvEA,EAASH,EAAQgB,QAAoB,MAAVjB,EAAiBA,EAAOiB,MAAQjB,IAAmBI,EAASG,KAA2BG,EAASN,EAAOU,KAAKT,EAAO,CAAC,KAAO,QAAQ,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,QAAUC,GAChR,+BACAO,SAASP,EAAuF,OAA7EA,EAASH,EAAQiB,WAAuB,MAAVlB,EAAiBA,EAAOkB,SAAWlB,IAAmBI,EAASG,KAA2BG,EAASN,EAAOU,KAAKT,EAAO,CAAC,KAAO,WAAW,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GACxR,qBACAO,SAASP,EAAyF,OAA/EA,EAASH,EAAQkB,YAAwB,MAAVnB,EAAiBA,EAAOmB,UAAYnB,IAAmBI,EAASG,KAA2BG,EAASN,EAAOU,KAAKT,EAAO,CAAC,KAAO,YAAY,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAC3R,kDACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASL,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIiB,EAEN,OAA+Q,OAAtQA,EAASnB,EAAc,KAAEa,KAAe,MAAVd,EAAiBA,EAAUD,EAAUO,aAAe,GAAIN,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUsB,QAAQ,EAAGlB,EAAM,GAAG,QAAUJ,EAAUuB,KAAK,KAAOnB,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,EAAE,OAAS,OAAiBiB,EAAS,IAC/R,SAAU,K,wJCjBNG,EAAO,CACXC,aAAcC,SAASC,cAAc,YACrCC,YAAaF,SAASC,cAAc,gBACpCE,QAASH,SAASC,cAAc,sBAChCG,MAAOJ,SAASC,cAAc,OAC9BI,UAAWL,SAASC,cAAc,eAClCK,cAAeN,SAASC,cAAc,mBACtCM,SAAUP,SAASC,cAAc,aACjCO,YAAaR,SAASC,cAAc,qBACpCV,MAAOS,SAASC,cAAc,UAC9BR,SAAUO,SAASC,cAAc,aACjCP,UAAWM,SAASC,cAAc,cAClCQ,MAAOT,SAASC,cAAc,UAC9BS,OAAQV,SAASC,cAAc,mBAC/BU,MAAOX,SAASC,cAAc,WAG1BW,EAAY,SAACC,EAAMC,GACvB,OAAOC,IAAMC,IAAN,qEACgEH,EADhE,qBACyFC,IAG9FA,EAAO,EACPG,EAAc,GAalB,SAASC,IACPN,EAAUK,EAAaH,GAAMK,MAAK,YAAc,EAAXzC,KAC9B0C,KAAKC,SAAQ,SAAAC,GAChBxB,EAAKC,aAAawB,mBAAmB,YAAaC,IAAYF,IAC9DxB,EAAKK,QAAQsB,UAAUC,OAAO,gBAOlCZ,GAAQ,KAiCV,SAASa,IACP7B,EAAKS,SAASkB,UAAUC,OAAO,WAzDjC5B,EAAKK,QAAQsB,UAAUG,IAAI,aAmE3B9B,EAAKM,MAAMyB,iBAAiB,SAzC5B,WACEC,OAAOC,SAAS,CACdC,IAAK,EACLC,KAAM,EACNC,SAAU,cAsCdpC,EAAKI,YAAY2B,iBAAiB,UAnElC,SAA2BM,GACzBA,EAAIC,iBACJtC,EAAKK,QAAQsB,UAAUG,IAAI,aAC3BX,EAAckB,EAAIE,cAAcC,SAASC,MAAMC,MAC/C1C,EAAKC,aAAa0C,UAAY,GAC9B3C,EAAKI,YAAYoC,SAASC,MAAMC,MAAQ,GAExC1B,EAAO,EACPI,OA4DFpB,EAAKK,QAAQ0B,iBAAiB,QAASX,GACvCpB,EAAKC,aAAa8B,iBAAiB,SArCnC,SAAqBM,GACnB,GAA4B,QAAxBA,EAAIO,OAAOC,SAAoB,CACjC7C,EAAKY,OAAOkC,MAAMC,QAAU,OAC5B/C,EAAKS,SAASkB,UAAUG,IAAI,WAC5B9B,EAAKO,UAAUoB,UAAUG,IAAI,UAC7B,IAAMkB,EAASC,MAAML,OAAOM,QAAQC,OAC9BC,EAAcH,MAAML,OAAOM,QAAQvD,SACnC0D,EAAWJ,MAAML,OAAOM,QAAQzD,MAChC6D,EAAWL,MAAML,OAAOM,QAAQvC,MAChC4C,EAAeN,MAAML,OAAOM,QAAQtD,UAC1CI,EAAKQ,cAAcgD,aAAa,MAAOR,GAEvCS,sBAAW,WACTzD,EAAKY,OAAOkC,MAAMC,QAAU,OAC5B/C,EAAKO,UAAUoB,UAAUC,OAAO,YAC/B,KACH5B,EAAKP,MAAMiE,YAAcL,EACzBrD,EAAKL,SAAS+D,YAAcN,EAC5BpD,EAAKW,MAAM+C,YAAcJ,EACzBtD,EAAKJ,UAAU8D,YAAcH,MAmBjCvD,EAAKU,YAAYqB,iBAAiB,QAASF,GAC3CG,OAAOD,iBAAiB,SAZxB,SAA6BM,GACC,QAAxBA,EAAIO,OAAOC,UAGfhB,S","file":"main.c3980a2b62ee0ac635a3.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\\r\\n<li class=\\\"imgItem\\\">\\r\\n    <img src=\"\n    + alias4(((helper = (helper = helpers.previewURL || (depth0 != null ? depth0.previewURL : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"previewURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":13},\"end\":{\"line\":4,\"column\":27}}}) : helper)))\n    + \" data-source=\"\n    + alias4(((helper = (helper = helpers.webformatURL || (depth0 != null ? depth0.webformatURL : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":40},\"end\":{\"line\":4,\"column\":56}}}) : helper)))\n    + \" data-likes=\\\"\"\n    + alias4(((helper = (helper = helpers.likes || (depth0 != null ? depth0.likes : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":69},\"end\":{\"line\":4,\"column\":78}}}) : helper)))\n    + \"\\\" data-shows=\\\"\"\n    + alias4(((helper = (helper = helpers.views || (depth0 != null ? depth0.views : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":92},\"end\":{\"line\":4,\"column\":101}}}) : helper)))\n    + \"\\\"\\r\\n        data-comments=\\\"\"\n    + alias4(((helper = (helper = helpers.comments || (depth0 != null ? depth0.comments : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":23},\"end\":{\"line\":5,\"column\":35}}}) : helper)))\n    + \"\\\" data-downloads=\\\"\"\n    + alias4(((helper = (helper = helpers.downloads || (depth0 != null ? depth0.downloads : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":53},\"end\":{\"line\":5,\"column\":66}}}) : helper)))\n    + \"\\\" alt=\\\"\\\" class=\\\"buttonImage\\\">\\r\\n</li>\\r\\n\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"with\"].call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"with\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":8,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","import './styles.css';\nimport axios from 'axios';\nimport imgTemplate from './templates/img.hbs';\nimport { setTimeout } from 'timers';\n\nconst refs = {\n  imgContainer: document.querySelector('.gallery'),\n  searchField: document.querySelector('.search-form'),\n  loadBtn: document.querySelector('.button--load-more'),\n  upBtn: document.querySelector('.up'),\n  photoCard: document.querySelector('.photo-card'),\n  photoCardItem: document.querySelector('.photo-card img'),\n  lightBox: document.querySelector('.lightbox'),\n  lightBoxBtn: document.querySelector('.lightbox__button'),\n  likes: document.querySelector('.likes'),\n  comments: document.querySelector('.comments'),\n  downloads: document.querySelector('.downloads'),\n  shows: document.querySelector('.shows'),\n  loader: document.querySelector('.loader-wrapper'),\n  stats: document.querySelector('.stats'),\n};\n\nconst getImages = (name, page) => {\n  return axios.get(\n    `https://pixabay.com/api/?key=14452993-a97f0aeb82bfc4ebb60896535&q=${name}&per_page=70&page=${page}`,\n  );\n};\nlet page = 1;\nlet searchQuery = '';\nrefs.loadBtn.classList.add('unvisible');\nfunction searchFormHandler(evt) {\n  evt.preventDefault();\n  refs.loadBtn.classList.add('unvisible');\n  searchQuery = evt.currentTarget.elements.query.value;\n  refs.imgContainer.innerHTML = '';\n  refs.searchField.elements.query.value = '';\n\n  page = 1;\n  drawImages();\n}\n\nfunction drawImages() {\n  getImages(searchQuery, page).then(({ data }) => {\n    data.hits.forEach(elem => {\n      refs.imgContainer.insertAdjacentHTML('beforeend', imgTemplate(elem));\n      refs.loadBtn.classList.remove('unvisible');\n    });\n    incrementPage();\n  });\n}\n\nfunction incrementPage() {\n  page += 1;\n  return page;\n}\nfunction scroll() {\n  window.scrollTo({\n    top: 0,\n    left: 0,\n    behavior: 'smooth',\n  });\n}\nfunction showPreview(evt) {\n  if (evt.target.nodeName === 'IMG') {\n    refs.loader.style.display = 'flex';\n    refs.lightBox.classList.add('is-open');\n    refs.photoCard.classList.add('isBlur');\n    const getImg = event.target.dataset.source;\n    const getComments = event.target.dataset.comments;\n    const getLikes = event.target.dataset.likes;\n    const getViews = event.target.dataset.shows;\n    const getDownloads = event.target.dataset.downloads;\n    refs.photoCardItem.setAttribute('src', getImg);\n\n    setTimeout(function() {\n      refs.loader.style.display = 'none';\n      refs.photoCard.classList.remove('isBlur');\n    }, 800);\n    refs.likes.textContent = getLikes;\n    refs.comments.textContent = getComments;\n    refs.shows.textContent = getViews;\n    refs.downloads.textContent = getDownloads;\n  }\n}\n\nfunction removeShowPreview() {\n  refs.lightBox.classList.remove('is-open');\n}\n\nfunction handleBackDropClick(evt) {\n  if (evt.target.nodeName === 'IMG') {\n    return;\n  }\n  removeShowPreview();\n}\n\nrefs.upBtn.addEventListener('click', scroll);\nrefs.searchField.addEventListener('submit', searchFormHandler);\nrefs.loadBtn.addEventListener('click', drawImages);\nrefs.imgContainer.addEventListener('click', showPreview);\nrefs.lightBoxBtn.addEventListener('click', removeShowPreview);\nwindow.addEventListener('click', handleBackDropClick);\n"],"sourceRoot":""}